(self.webpackChunkplo_rewards_export=self.webpackChunkplo_rewards_export||[]).push([[784],{756:(e,t,s)=>{"use strict";s.d(t,{K:()=>m});var a=s(2791),n=s(5485),r=s(1707),l=s(7253),i=s(3456),c=s(4350),d=s(184);const o=[{title:"Index",dataIndex:"index",key:"index",align:"center"},{title:"Address",dataIndex:"address",key:"address",align:"center",render:e=>(0,d.jsx)(n.Z.Text,{copyable:{text:e},children:(0,l.QJ)(e)})},{title:"Claim Address",dataIndex:"claimAddress",key:"claimAddress",align:"center",render:e=>e?(0,d.jsxs)("div",{className:"inline-flex space-x-1",children:[(0,d.jsx)(n.Z.Text,{copyable:{text:e.address},type:c.UJ(e.address)?"success":"danger",children:(0,l.QJ)(e.address)}),(0,d.jsx)("span",{children:"\xb7"}),(0,d.jsx)(n.Z.Link,{target:"_blank",href:`${e.network===i._.CRAB?"https://kusama.subscan.io/extrinsic/":"https://polkadot.subscan.io/extrinsic/"}${e.extrinsicHash}`,children:"extrinsic"})]}):(0,d.jsx)(n.Z.Text,{children:"None"})},{title:"Is Claimed",dataIndex:"isClaimed",key:"isClaimed",align:"center",render:e=>(0,d.jsx)(n.Z.Text,{type:e?"success":"secondary",children:e?"Yes":"No"}),filters:[{text:"Yes",value:!0},{text:"No",value:!1}],onFilter:(e,t)=>t.isClaimed===e},{title:"Total Conntribute",dataIndex:"totalContribute",key:"totalContribute",align:"center"}],x=e=>(0,d.jsx)(r.Z,{columns:o,dataSource:e.dataSource,loading:e.loading,pagination:{defaultPageSize:50,showQuickJumper:!0,showLessItems:!0,total:e.dataSource.length,showTotal:e=>`Total Items: ${e}`},scroll:{y:"calc(100vh - 20rem)",x:"max-content"}}),m=a.memo(x)},2258:(e,t,s)=>{"use strict";s.d(t,{JH:()=>c,WA:()=>d,Xg:()=>l});s(756);var a=s(2791),n=s(184);const r=e=>(0,n.jsx)("div",{className:`container mx-auto h-screen relative pb-14 ${e.className}`,children:e.children}),l=a.memo(r),i=e=>(0,n.jsx)("div",{className:`pt-6 page-content-height ${e.className}`,children:e.children}),c=a.memo(i),d=()=>(0,n.jsxs)("div",{className:"absolute top-auto bottom-0 h-12 w-full flex justify-center items-center space-x-3",children:[(0,n.jsx)("span",{children:"Copyright\xa92022"}),(0,n.jsx)("span",{children:"|"}),(0,n.jsx)("a",{href:"https://github.com/darwinia-network/plo-rewards-export",target:"_blank",rel:"noopener noreferrer",children:"Github"}),(0,n.jsx)("span",{children:"|"}),(0,n.jsx)("a",{href:"https://crab.network/plo_contribute",target:"_blank",rel:"noopener noreferrer",children:"Crab PLO"}),(0,n.jsx)("span",{children:"|"}),(0,n.jsx)("a",{href:"https://darwinia.network/plo_contribute",target:"_blank",rel:"noopener noreferrer",children:"Darwinia PLO"})]})},9478:(e,t,s)=>{"use strict";s.d(t,{j9:()=>l,bN:()=>i,rM:()=>c,fD:()=>d,x5:()=>o});var a=s(5395),n=s.n(a),r=s(7743);const l=2e8,i=8e3,c=(new(n())("0.00000001"),new(n())("10000000000"),new(n())("1000000000000"),new(n())("1000000000")),d=42,o=r.Ps`
  query GetUserNftClaimed($first: Int!, $offset: Int!) {
    remarkedNftAddresses(orderBy: [EXTRINSIC_TIMESTAMP_ASC], first: $first, offset: $offset) {
      totalCount
      pageInfo {
        hasNextPage
      }
      nodes {
        signer
        addressValue
        extrinsicHash
      }
    }
  }
`},7430:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var a=s(2791),n=s(4685),r=s(199),l=s(148),i=s(8164),c=s(1358),d=s(1413);const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"};var x=s(4291),m=function(e,t){return a.createElement(x.Z,(0,d.Z)((0,d.Z)({},e),{},{ref:t,icon:o}))};m.displayName="QuestionCircleOutlined";const h=a.forwardRef(m);var u=s(5485),j=s(1707),g=s(7253),f=s(184);const p=[{title:"Index",dataIndex:"index",key:"index",align:"center"},{title:"Address",dataIndex:"address",key:"address",align:"center",render:e=>(0,f.jsx)(u.Z.Text,{copyable:{text:e},children:(0,g.QJ)(e)})},{title:(0,f.jsxs)("div",{className:"inline-flex items-center",children:["As Contributor",(0,f.jsx)(l.Z,{title:"\u4f5c\u4e3aContributor\u8d21\u732e\u7684KSM",children:(0,f.jsx)(h,{className:"ml-1"})})]}),dataIndex:"ksmAsContributor",key:"ksmAsContributor",align:"right"},{title:(0,f.jsxs)("div",{className:"inline-flex items-center",children:["As Referral",(0,f.jsx)(l.Z,{title:"\u4f5c\u4e3a\u63a8\u8350\u8005\u8d21\u732e\u7684KSM",children:(0,f.jsx)(h,{className:"ml-1"})})]}),dataIndex:"ksmAsReferral",key:"ksmAsReferral",align:"right"},{title:(0,f.jsxs)("div",{className:"inline-flex items-center",children:["CRAB Rewards",(0,f.jsx)(l.Z,{title:"\u5e94\u8be5\u83b7\u5f97\u7684CRAB\u5956\u52b1",children:(0,f.jsx)(h,{className:"ml-1"})})]}),dataIndex:"crabRewards",key:"crabRewards",align:"right"},{title:(0,f.jsxs)("div",{className:"inline-flex items-center",children:["Stage CRAB",(0,f.jsx)(l.Z,{title:"\u4e58\u5b8c7.5%\u4e4b\u540e\u5e94\u53d1\u7684CRAB",children:(0,f.jsx)(h,{className:"ml-1"})})]}),dataIndex:"stageCRabRewards",key:"stageCRabRewards",align:"right"},{title:(0,f.jsxs)("div",{className:"inline-flex items-center",children:["CKTON Rewards",(0,f.jsx)(l.Z,{title:"\u5e94\u8be5\u83b7\u5f97\u7684CKTON\u5956\u52b1",children:(0,f.jsx)(h,{className:"ml-1"})})]}),dataIndex:"cktonRewards",key:"cktonRewards",align:"right"},{title:(0,f.jsxs)("div",{className:"inline-flex items-center",children:["Stage CKTON",(0,f.jsx)(l.Z,{title:"\u4e58\u5b8c7.5%\u4e4b\u540e\u5e94\u53d1\u7684CKTON",children:(0,f.jsx)(h,{className:"ml-1"})})]}),dataIndex:"stageCKtonRewards",key:"stageCKtonRewards",align:"right"}],C=e=>{const{dataSource:t,loading:s}=e;return(0,f.jsx)(j.Z,{columns:p,dataSource:t,loading:s,pagination:{defaultPageSize:50,showQuickJumper:!0,showLessItems:!0,total:t.length,showTotal:e=>`Total Items: ${e}`},scroll:{y:"calc(100vh - 20rem)",x:"max-content"}})},N=a.memo(C);var w=s(2258),b=s(9478),v=s(6871);const k=()=>{const e=(0,v.s0)(),[t,d]=(0,a.useState)(!1),[o,x]=(0,a.useState)([]),[m,u]=(0,a.useState)("0"),[j,p]=(0,a.useState)(Number(0).toFixed(8)),[C,k]=(0,a.useState)(Number(0).toFixed(8)),[y,R]=(0,a.useState)(Number(0).toFixed(8)),[A,Z]=(0,a.useState)([]);return(0,f.jsxs)(w.Xg,{children:[(0,f.jsxs)(w.JH,{children:[(0,f.jsx)("div",{className:"flex items-center justify-center space-x-24 mb-2",children:(0,f.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,f.jsx)(r.Z,{loading:t,value:m,title:(0,f.jsxs)("div",{className:"inline-flex items-center",children:["Total Power",(0,f.jsx)(l.Z,{title:"Contributors\u548cReferrals\u7684Power\u603b\u548c",children:(0,f.jsx)(h,{className:"ml-1"})})]})}),(0,f.jsx)(r.Z,{loading:t,value:j,title:(0,f.jsxs)("div",{className:"inline-flex items-center",children:["Total Contribute",(0,f.jsx)(l.Z,{title:"Contributors\u8d21\u732e\u7684\u603bKSM",children:(0,f.jsx)(h,{className:"ml-1"})})]})}),(0,f.jsx)(r.Z,{loading:t,value:b.j9,title:(0,f.jsxs)("div",{className:"inline-flex items-center",children:["Total CRAB Rewards",(0,f.jsx)(l.Z,{title:"Stage CRAB\u603b\u8ba1",children:(0,f.jsx)(h,{className:"ml-1"})})]})}),(0,f.jsx)(r.Z,{loading:t,value:b.bN,title:(0,f.jsxs)("div",{className:"inline-flex items-center",children:["Total CKTON Rewards",(0,f.jsx)(l.Z,{title:"Stage CRAB\u603b\u8ba1",children:(0,f.jsx)(h,{className:"ml-1"})})]})}),(0,f.jsx)(r.Z,{loading:t,value:C,title:(0,f.jsxs)("div",{className:"inline-flex items-center",children:["Total Stage CRAB",(0,f.jsx)(l.Z,{title:"Stage CRAB\u603b\u8ba1",children:(0,f.jsx)(h,{className:"ml-1"})})]})}),(0,f.jsx)(r.Z,{loading:t,value:y,title:(0,f.jsxs)("div",{className:"inline-flex items-center",children:["Total Stage CKTON",(0,f.jsx)(l.Z,{title:"Stage CKTON\u603b\u8ba1",children:(0,f.jsx)(h,{className:"ml-1"})})]})})]})}),(0,f.jsxs)("div",{className:"flex items-end justify-between px-px pb-1",children:[(0,f.jsxs)(i.Z,{children:[(0,f.jsx)(i.Z.Item,{className:"antd-breadcrumb-item",onClick:()=>e("/"),children:"Home"}),(0,f.jsx)(i.Z.Item,{children:"Rewards"})]}),(0,f.jsxs)("div",{className:"flex justify-end items-end space-x-2 mb-2",children:[(0,f.jsx)(c.Z,{className:"rounded-md",onClick:async()=>{try{d(!0);const e=new Worker(new URL(s.p+s.u(425),s.b));e.onerror=t=>{e.terminate(),console.error("worker error:",t.message)},e.onmessage=t=>{e.terminate();const{totalPower:s,totalBalance:a,csvRows:n,rewardsTableDataSource:r,totalStageCRab:l,totalStageCKton:i}=t.data;u(s),p(a),x(n),k(l),R(i),Z(r),d(!1)},e.postMessage("")}catch(e){console.error(e),n.Z.error({message:"Oops, something went wrong",description:e.message}),d(!1)}},loading:t,type:"primary",children:"Check All"}),(0,f.jsx)(c.Z,{className:"rounded-md",onClick:()=>{(0,g.ns)(o.map((e=>e.join(","))).join("\n"))},disabled:0===o.length,loading:t,children:"Download CSV"})]})]}),(0,f.jsx)(N,{loading:t,dataSource:A})]}),(0,f.jsx)(w.WA,{})]})},y=a.memo(k)},3456:(e,t,s)=>{"use strict";let a;s.d(t,{_:()=>a}),function(e){e[e.CRAB=0]="CRAB",e[e.DARWINIA=1]="DARWINIA"}(a||(a={}))},7253:(e,t,s)=>{"use strict";s.d(t,{QJ:()=>d,j1:()=>x,it:()=>m,ns:()=>h});var a=s(7730),n=s(692),r=s(9453),l=s(8787),i=s(822),c=s(4273);s(5395),s(9478),s(3456);const d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.length&&e.length>12?`${e.slice(0,5)}...${e.slice(e.length-5)}`:e},o=new c.P;function x(e){if(!e)return o.createType("AccountId","");const t=new Uint8Array(32);t.set((0,n.d)("dvm:")),t.set((0,r.G)(e),11);const s=t.reduce(((e,t)=>e^t));t.set((0,l.V)(s),31);return o.createType("AccountId",t)}function m(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e||(0,i.F)(t))return"";try{let n=(0,a.m)(e,t);return s&&(n=d(n)),n}catch(n){return""}}const h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"transferx.csv",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"data:text/csv;charset=utf-8";const a=new Blob(["\ufeff"+e],{type:s}),n=URL.createObjectURL(a),r=document.createElement("a");r.style.display="none",r.href=n,r.download=t,document.body.appendChild(r),r.click(),setTimeout((function(){document.body.removeChild(r),window.URL.revokeObjectURL(n)}),0)}},6601:()=>{}}]);
//# sourceMappingURL=784.6fbf25b3.chunk.js.map