(self.webpackChunkplo_rewards_export=self.webpackChunkplo_rewards_export||[]).push([[784],{756:(e,t,s)=>{"use strict";s.d(t,{K:()=>m});var a=s(2791),n=s(5485),i=s(1707),r=s(7253),l=s(3456),o=s(4350),d=s(184);const c=[{title:"Index",dataIndex:"index",key:"index",align:"center"},{title:"Address",dataIndex:"address",key:"address",align:"center",render:e=>(0,d.jsx)(n.Z.Text,{copyable:{text:e},children:(0,r.sC)(e)})},{title:"Claim Address",dataIndex:"claimAddress",key:"claimAddress",align:"center",render:e=>e?(0,d.jsxs)("div",{className:"inline-flex space-x-1",children:[(0,d.jsx)(n.Z.Text,{copyable:{text:e.address},type:o.UJ(e.address)?"success":"danger",children:(0,r.sC)(e.address)}),(0,d.jsx)("span",{children:"\xb7"}),(0,d.jsx)(n.Z.Link,{target:"_blank",href:`${e.network===l._.CRAB?"https://kusama.subscan.io/extrinsic/":"https://polkadot.subscan.io/extrinsic/"}${e.extrinsicHash}`,children:"extrinsic"})]}):(0,d.jsx)(n.Z.Text,{children:"None"})},{title:"Is Claimed",dataIndex:"isClaimed",key:"isClaimed",align:"center",render:e=>(0,d.jsx)(n.Z.Text,{type:e?"success":"secondary",children:e?"Yes":"No"}),filters:[{text:"Yes",value:!0},{text:"No",value:!1}],onFilter:(e,t)=>t.isClaimed===e},{title:"Total Conntribute",dataIndex:"totalContribute",key:"totalContribute",align:"center"}],x=e=>(0,d.jsx)(i.Z,{columns:c,dataSource:e.dataSource,loading:e.loading,pagination:{defaultPageSize:50,showQuickJumper:!0,showLessItems:!0,total:e.dataSource.length,showTotal:e=>`Total Items: ${e}`},scroll:{y:"calc(100vh - 20rem)",x:"max-content"}}),m=a.memo(x)},2258:(e,t,s)=>{"use strict";s.d(t,{JH:()=>o,WA:()=>d,Xg:()=>r});s(756);var a=s(2791),n=s(184);const i=e=>(0,n.jsx)("div",{className:`container mx-auto h-screen relative pb-14 ${e.className}`,children:e.children}),r=a.memo(i),l=e=>(0,n.jsx)("div",{className:`pt-6 page-content-height ${e.className}`,children:e.children}),o=a.memo(l),d=()=>(0,n.jsxs)("div",{className:"absolute top-auto bottom-0 h-12 w-full flex justify-center items-center space-x-3",children:[(0,n.jsx)("span",{children:"Copyright\xa92022"}),(0,n.jsx)("span",{children:"|"}),(0,n.jsx)("a",{href:"https://github.com/darwinia-network/plo-rewards-export",target:"_blank",rel:"noopener noreferrer",children:"Github"}),(0,n.jsx)("span",{children:"|"}),(0,n.jsx)("a",{href:"https://crab.network/plo_contribute",target:"_blank",rel:"noopener noreferrer",children:"Crab PLO"}),(0,n.jsx)("span",{children:"|"}),(0,n.jsx)("a",{href:"https://darwinia.network/plo_contribute",target:"_blank",rel:"noopener noreferrer",children:"Darwinia PLO"})]})},9478:(e,t,s)=>{"use strict";s.d(t,{PQ:()=>r,Xq:()=>l,x5:()=>o});var a=s(5395),n=s.n(a),i=s(7743);new(n())("0.00000001"),new(n())("10000000000"),new(n())("1000000000000");const r=i.Ps`
  query GetContributorsPower($first: Int!, $offset: Int!) {
    crowdloanWhoStatistics(orderBy: TOTAL_BALANCE_DESC, first: $first, offset: $offset) {
      totalCount
      pageInfo {
        hasNextPage
      }
      nodes {
        user
        totalPower
        totalBalance
      }
    }
  }
`,l=i.Ps`
  query GetReferralsPower($first: Int!, $offset: Int!) {
    crowdloanReferStatistics(first: $first, offset: $offset) {
      totalCount
      pageInfo {
        hasNextPage
      }
      nodes {
        user
        totalPower
        totalBalance
      }
    }
  }
`,o=i.Ps`
  query GetUserNftClaimed($first: Int!, $offset: Int!) {
    remarkedNftAddresses(orderBy: [EXTRINSIC_TIMESTAMP_ASC], first: $first, offset: $offset) {
      totalCount
      pageInfo {
        hasNextPage
      }
      nodes {
        signer
        addressValue
        extrinsicHash
      }
    }
  }
`},7430:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>k});var a=s(2791),n=s(4685),i=s(199),r=s(148),l=s(8164),o=s(1358),d=s(1413);const c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"};var x=s(4291),m=function(e,t){return a.createElement(x.Z,(0,d.Z)((0,d.Z)({},e),{},{ref:t,icon:c}))};m.displayName="QuestionCircleOutlined";const h=a.forwardRef(m);var u=s(5046),f=s(5485),g=s(1707),j=s(7253),C=s(184);const N=[{title:"Index",dataIndex:"index",key:"index",align:"center"},{title:"Address",dataIndex:"address",key:"address",align:"center",render:e=>(0,C.jsx)(f.Z.Text,{copyable:{text:e},children:(0,j.sC)(e)})},{title:(0,C.jsxs)("div",{className:"inline-flex items-center",children:["As Contributor",(0,C.jsx)(r.Z,{title:"\u4f5c\u4e3aContributor\u8d21\u732e\u7684KSM",children:(0,C.jsx)(h,{className:"ml-1"})})]}),dataIndex:"ksmAsContributor",key:"ksmAsContributor",align:"right"},{title:(0,C.jsxs)("div",{className:"inline-flex items-center",children:["As Referral",(0,C.jsx)(r.Z,{title:"\u4f5c\u4e3a\u63a8\u8350\u8005\u8d21\u732e\u7684KSM",children:(0,C.jsx)(h,{className:"ml-1"})})]}),dataIndex:"ksmAsReferral",key:"ksmAsReferral",align:"right"},{title:(0,C.jsxs)("div",{className:"inline-flex items-center",children:["Stage CRAB",(0,C.jsx)(r.Z,{title:"\u4e58\u5b8c10%\u4e4b\u540e\u5e94\u53d1\u7684CRAB",children:(0,C.jsx)(h,{className:"ml-1"})})]}),dataIndex:"stageCRabRewards",key:"stageCRabRewards",align:"right"},{title:(0,C.jsxs)("div",{className:"inline-flex items-center",children:["Stage CKTON",(0,C.jsx)(r.Z,{title:"\u4e58\u5b8c10%\u4e4b\u540e\u5e94\u53d1\u7684CKTON",children:(0,C.jsx)(h,{className:"ml-1"})})]}),dataIndex:"stageCKtonRewards",key:"stageCKtonRewards",align:"right"},{title:(0,C.jsxs)("div",{className:"inline-flex items-center",children:["Sent(CRAB)",(0,C.jsx)(r.Z,{title:"\u5df2\u7ecf\u53d1\u51fa\u53bb\u7684CRAB",children:(0,C.jsx)(h,{className:"ml-1"})})]}),dataIndex:"sentCRab",key:"sentCRab",align:"right"},{title:(0,C.jsxs)("div",{className:"inline-flex items-center",children:["Sent(CKTON)",(0,C.jsx)(r.Z,{title:"\u5df2\u7ecf\u53d1\u51fa\u53bb\u7684CKTON",children:(0,C.jsx)(h,{className:"ml-1"})})]}),dataIndex:"sentKton",key:"sentKton",align:"right"},{title:(0,C.jsxs)("div",{className:"inline-flex items-center",children:["Differ(CRAB)",(0,C.jsx)(r.Z,{title:"\u7b49\u4e8e\u300cStage CRAB\u300d\u51cf\u53bb\u300cSent(CRAB)\u300d\u3002\u7ea2\u8272\u8868\u793a\u53d1\u591a\u4e86\uff0c\u7eff\u8272\u8868\u793a\u672a\u53d1\u7684\u6570\u91cf",children:(0,C.jsx)(h,{className:"ml-1"})})]}),dataIndex:"differCrab",key:"differCrab",align:"right",render:e=>(0,C.jsx)(f.Z.Text,{type:"0.00000000"===e||"-0.00000000"===e?"secondary":e.startsWith("-")?"danger":"success",children:e})},{title:(0,C.jsxs)("div",{className:"inline-flex items-center",children:["Differ(CKTON)",(0,C.jsx)(r.Z,{title:"\u7b49\u4e8e\u300cStage CKTON\u300d\u51cf\u53bb\u300cSent(CKTON)\u300d\u3002\u7ea2\u8272\u8868\u793a\u53d1\u591a\u4e86\uff0c\u7eff\u8272\u8868\u793a\u672a\u53d1\u7684\u6570\u91cf",children:(0,C.jsx)(h,{className:"ml-1"})})]}),dataIndex:"differKton",key:"differKton",align:"right",render:e=>(0,C.jsx)(f.Z.Text,{type:"0.00000000"===e||"-0.00000000"===e?"secondary":e.startsWith("-")?"danger":"success",children:e})}],p=e=>{const{dataSource:t,loading:s}=e;return(0,C.jsx)(g.Z,{columns:N,dataSource:t,loading:s,pagination:{defaultPageSize:50,showQuickJumper:!0,showLessItems:!0,total:t.length,showTotal:e=>`Total Items: ${e}`},scroll:{y:"calc(100vh - 20rem)",x:"max-content"}})},v=a.memo(p);var b=s(2258),w=s(9478),y=s(6871);const S=()=>{const e=(0,u.x)(),t=(0,y.s0)(),[d,c]=(0,a.useState)(!1),[x,m]=(0,a.useState)([]),[f,g]=(0,a.useState)("0"),[N,p]=(0,a.useState)(Number(0).toFixed(8)),[S,k]=(0,a.useState)(Number(0).toFixed(8)),[R,Z]=(0,a.useState)(Number(0).toFixed(8)),[A,I]=(0,a.useState)(Number(0).toFixed(8)),[T,K]=(0,a.useState)(Number(0).toFixed(8)),[B,P]=(0,a.useState)([]);return(0,C.jsxs)(b.Xg,{children:[(0,C.jsxs)(b.JH,{children:[(0,C.jsx)("div",{className:"flex items-center justify-center space-x-24 mb-2",children:(0,C.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,C.jsx)(i.Z,{loading:d,value:f,title:(0,C.jsxs)("div",{className:"inline-flex items-center",children:["Total Power",(0,C.jsx)(r.Z,{title:"Contributors\u548cReferrals\u7684Power\u603b\u548c",children:(0,C.jsx)(h,{className:"ml-1"})})]})}),(0,C.jsx)(i.Z,{loading:d,value:N,title:(0,C.jsxs)("div",{className:"inline-flex items-center",children:["Total Contribute",(0,C.jsx)(r.Z,{title:"Contributors\u8d21\u732e\u7684\u603bKSM",children:(0,C.jsx)(h,{className:"ml-1"})})]})}),(0,C.jsx)(i.Z,{loading:d,value:S,title:(0,C.jsxs)("div",{className:"inline-flex items-center",children:["Total Stage CRAB",(0,C.jsx)(r.Z,{title:"Stage CRAB\u603b\u8ba1",children:(0,C.jsx)(h,{className:"ml-1"})})]})}),(0,C.jsx)(i.Z,{loading:d,value:R,title:(0,C.jsxs)("div",{className:"inline-flex items-center",children:["Total Stage CKTON",(0,C.jsx)(r.Z,{title:"Stage CKTON\u603b\u8ba1",children:(0,C.jsx)(h,{className:"ml-1"})})]})}),(0,C.jsx)(i.Z,{loading:d,value:A,title:(0,C.jsxs)("div",{className:"inline-flex items-center",children:["Total CRAB Next",(0,C.jsx)(r.Z,{title:"\u8fd8\u9700\u8981\u5171\u8865\u53d1\u8fd9\u4e48\u591aCRAB",children:(0,C.jsx)(h,{className:"ml-1"})})]})}),(0,C.jsx)(i.Z,{loading:d,value:T,title:(0,C.jsxs)("div",{className:"inline-flex items-center",children:["Total CKTON Next",(0,C.jsx)(r.Z,{title:"\u8fd8\u9700\u8981\u5171\u8865\u53d1\u8fd9\u4e48\u591aCKTON",children:(0,C.jsx)(h,{className:"ml-1"})})]})})]})}),(0,C.jsxs)("div",{className:"flex items-end justify-between px-px pb-1",children:[(0,C.jsxs)(l.Z,{children:[(0,C.jsx)(l.Z.Item,{className:"antd-breadcrumb-item",onClick:()=>t("/"),children:"Home"}),(0,C.jsx)(l.Z.Item,{children:"Rewards"})]}),(0,C.jsxs)("div",{className:"flex justify-end items-end space-x-2 mb-2",children:[(0,C.jsx)(o.Z,{className:"rounded-md",onClick:async()=>{try{var t,a,i,r,l,o;c(!0);const d=await e.query({query:w.Xq,variables:{first:0,offset:0}}),x=await e.query({query:w.PQ,variables:{first:0,offset:0}});(null===(t=d.data)||void 0===t?void 0:t.crowdloanReferStatistics.totalCount)!==(null===(a=d.data)||void 0===a?void 0:a.crowdloanReferStatistics.nodes.length)&&n.Z.warning({message:"Query Subql As referral",description:"nodes length doesnt equal to total count"}),(null===(i=x.data)||void 0===i?void 0:i.crowdloanWhoStatistics.totalCount)!==(null===(r=x.data)||void 0===r?void 0:r.crowdloanWhoStatistics.nodes.length)&&n.Z.warning({message:"Query Subql As Contributor",description:"nodes length doesnt equal to total count"});const h=new Worker(new URL(s.p+s.u(780),s.b));h.onerror=e=>{h.terminate(),console.error("worker error:",e.message)},h.onmessage=e=>{h.terminate();const{totalPower:t,totalBalance:s,csvRows:a,rewardsTableDataSource:n,totalStageCRab:i,totalStageCKton:r,totalCrabNextSend:l,totalKtonNextSend:o}=e.data;g(t),p(s),m(a),k(i),Z(r),I(l),K(o),P(n),c(!1)},h.postMessage([(null===(l=x.data)||void 0===l?void 0:l.crowdloanWhoStatistics.nodes)||[],(null===(o=d.data)||void 0===o?void 0:o.crowdloanReferStatistics.nodes)||[]])}catch(d){console.error(d),n.Z.error({message:"Oops, something went wrong",description:d.message}),c(!1)}},loading:d,type:"primary",children:"Check All"}),(0,C.jsx)(o.Z,{className:"rounded-md",onClick:()=>{(0,j.ns)(x.map((e=>e.join(","))).join("\n"))},disabled:0===x.length,loading:d,children:"Download CSV"})]})]}),(0,C.jsx)(v,{loading:d,dataSource:B})]}),(0,C.jsx)(b.WA,{})]})},k=a.memo(S)},3456:(e,t,s)=>{"use strict";let a;s.d(t,{_:()=>a}),function(e){e[e.CRAB=0]="CRAB",e[e.DARWINIA=1]="DARWINIA"}(a||(a={}))},7253:(e,t,s)=>{"use strict";s.d(t,{sC:()=>a,ns:()=>n});s(5395),s(9478),s(3456);const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.length&&e.length>12?`${e.slice(0,5)}...${e.slice(e.length-5)}`:e},n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"transferx.csv",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"data:text/csv;charset=utf-8";const a=new Blob(["\ufeff"+e],{type:s}),n=URL.createObjectURL(a),i=document.createElement("a");i.style.display="none",i.href=n,i.download=t,document.body.appendChild(i),i.click(),setTimeout((function(){document.body.removeChild(i),window.URL.revokeObjectURL(n)}),0)}},6601:()=>{}}]);
//# sourceMappingURL=784.c2812158.chunk.js.map